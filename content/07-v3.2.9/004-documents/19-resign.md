---
slug: "/post20"
title: "Как добавить подпись к файлу"
sort: "20"
---

**ВАЖНО!**  Чтобы подписывать документы, у вас на рабочем месте должен быть установлен криптопровайдер КриптоПро CSP.  

Чтобы подписывать документы электронной подписью, нужно установить в Личное хранилище сертификат с закрытым ключом.  

Вы можете добавлять подпись к уже подписанному файлу. 

Для этого в мастер **Подписи и шифрования** загрузите файлы с расширением .sig с помощью drag-and-drop либо выберите файлы из вкладки **Архив**.

Для всех добавленных подписей настройки, такие как кодировка и вид, используются по умолчанию, как для первой подписи.

Стандарт подписи, использование штампов времени, сертификат подписи, каталог для сохранения подписанного документа вы можете настроить в профиле подписи или в настройках операций в мастере. 

#  Как добавить подпись, используя профиль подписи

1. Перейдите во вкладку **Архив**.
2. Выберите в списке уже подписанные документы, к которым нужно добавить подпись, или ничего не выбирайте, если хотите добавить документы из системы.
3. Перейдите в мастер **Подписи и шифрования** через левое боковое меню  или с помощью кнопки **Добавить в**.
4. Выберите профиль подписи, в котором заданы настройки подписи. 
    При выборе профиля в мастере автоматически заполняются **Настройки операций**, **Сертификат подписи**, каталоги сохранения результатов подписи.
5. При необходимости, добавьте документы в список.
6. Нажмите кнопку **Выполнить**.


#  Как добавить подпись, используя настройки операций в мастере, не изменяя выбранного профиля

Если вы хотите изменить параметры подписи, не изменяя настройки в профиле, то воспользуйтесь настройками в открытом мастере.

1. Перейдите во вкладку **Архив**.
2. Выберите в списке документы с расширением .sig, к которым нужно добавить подпись, или ничего не выбирайте, если хотите добавить документы из системы.
3. Перейдите в мастер **Подписи и шифрования** через левое боковое меню  или с помощью кнопки **Добавить в**.
4. Включите на верхней панели операцию **Подписать**.  
   В **Настройках операций** становятся доступны параметры подписи.
5. Установите параметры подписи (стандарт и использование штампов времени) и настройте каталоги сохранения подписанных файлов.
6. Для операции подписи можно выбрать только один сертификат из категории **Личные**, у которого есть привязка к закрытому ключу.  Для этого:
   - нажмите на поле **Сертификат подписи**;
   - в развернувшемся списке выберите сертификат.
    Если в списке нет подходящего сертификата, то нажмите **Показать все сертификаты** и в открывшейся боковой панели выберите нужный сертификат.
7. При необходимости добавьте документы в список.
8. Нажмите кнопку **Выполнить**.

# Результат выполнения операции

На вкладке **Подпись и шифрование** отображаются ход и результаты выполнения операции.

При успешном выполнении операции подписанные файлы сохраняются в заданном каталоге, если выбран каталог для сохранения результатов, или рядом с исходным файлом, если каталог не задан. Если установлен флаг **Создать копию в Архиве**, то копия подписанных документов сохраняется в специальную папку, файлы которой доступны во вкладке **Архив**.

Если какие-то документы не удалось подписать, то операция считается выполненной с ошибками. Вы можете посмотреть, какие файлы подписались успешно, а какие с ошибками. 

Ошибки при операции выводятся как уведомления. Вы можете их посмотреть, нажав на иконку ![notifications-button.jpg](./images/notifications-button.jpg "События"). 

Для просмотра подробного описания ошибки или отправки в техническую поддержку нажмите кнопку **Перейти в журнал** в правой боковой панели списка уведомлений.

**ВОЗМОЖНЫЕ УВЕДОМЛЕНИЯ:**

1. Не удалось открыть файл — добавленные в мастер документы были удалены или по какой то причине доступны.
2. Не удалось подписать файл — ошибка в адресе службы штампов времени, если подпись со штампом или усовершенствованная. Ошибка подключения к  прокси-серверу. 
3. Не удалось подписать файл — ошибки, связанные с истекшими лицензиями КриптоПро TSP Client, OCSP Client, КриптоПро CSP.
4. Не удалось найти исходный файл для подписи — в мастер добавлен файл с отсоединённой подписью без исходного документа. Чтобы выполнить соподпись в данной ситуации, перед подписанием скопируйте оригинал документа в папку с файлом подписи (названия фалов должно совпадать) или выберите исходный файл в правой боковой панели, нажав **Указать путь к файлу**.


**ИНСТРУКЦИИ ПО ТЕМЕ:**  
1. [Как установить личный сертификат.](https://docs.cryptoarm.ru/06-v3.2/008-certs/01-import-my-cert)  
2. [Как создать профиль подписи.](https://docs.cryptoarm.ru/06-v3.2/004-documents/02-create-profile)  
3. [Как переключаться между профилями подписи.](https://docs.cryptoarm.ru/06-v3.2/004-documents/08-select-profile)  
4. [Как добавить документы в мастер.](https://docs.cryptoarm.ru/06-v3.2/004-documents/12-add-docs)  
5. [Как выбрать сертификат подписи.](https://docs.cryptoarm.ru/06-v3.2/004-documents/10-select-sign-cert)  
6. [Как посмотреть уведомления.](https://docs.cryptoarm.ru/06-v3.2/007-cryptoarm/02-notifications)  
7. [Действия с результатами операций.](https://docs.cryptoarm.ru/06-v3.2/004-documents/23-operations-result)  