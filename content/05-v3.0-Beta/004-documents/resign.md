---
slug: "/post20"
title: "Как добавить подпись к файлу"
sort: "20"
---

Вы можете добавлять подпись к уже подписанному файлу. 

Для этого в мастер **Подписи и шифрования** загрузите файлы с расширением .sig с помощью drag-and-drop, либо выберите файлы из раздела **Архив**.

Для всех добавленных подписей настройки, такие как кодировка и вид, используются по умолчанию, как для первой подписи.

Стандарт подписи, использование штампов времени, сертификат подписи, каталог для сохранения подписанного документа вы можете настроить в профиле подписи или в настройках операций в мастере. 

#  Как добавить подпись, используя профиль подписи

1. Перейдите в раздел **Документы**.
2. Выберите в списке уже подписанные документы, к которым нужно добавить подпись, или ничего не выбирайте, если хотите добавить документы из системы.
3. Перейдите в мастер **Подписи и шифрования** через левое боковое меню  или с помощью кнопки ![add-to-button.jpg](./images/add-to-button.jpg "Добавить в").
4. Выберите профиль подписи, в котором заданы настройки подписи. 
    При выборе профиля в мастере автоматически заполняются **Настройки операций**, **Сертификат подписи**, каталоги сохранения результатов подписи.
5. При необходимости, добавьте документы в список.
6. Нажмите кнопку ![execute-button.jpg](./images/execute-button.jpg "Выполнить").


#  Как добавить подпись, используя настройки операций в мастере, не изменяя выбранного профиля

Если вы хотите изменить параметры подписи, не изменяя настройки в профиле, то воспользуйтесь настройками в открытом мастере.

1. Перейдите в раздел **Документы**.
2. Выберите в списке документы с расширением .sig, к которым нужно добавить подпись, или ничего не выбирайте, если хотите добавить документы из системы.
3. Перейдите в мастер **Подписи и шифрования** через левое боковое меню  или с помощью кнопки ![add-to-button.jpg](./images/add-to-button.jpg "Добавить в").
4. Включите на верхней панели операцию ![sign.jpg](./images/sign.jpg "Подписать").  
   В **Настройках операций** становятся доступны параметры подписи.
5. Установите параметры подписи (стандарт и использование штампов времени) и настройте каталоги сохранения подписанных файлов.
6. Для операции подписи можно выбрать только один сертификат из категории **Личные**, у которого есть привязка к закрытому ключу.  Для этого:
   - нажмите на поле **Сертификат подписи**,
   - в развернувшемся списке выберите сертификат.
    Если в списке нет подходящего сертификата, то нажмите **Показать все сертификаты**, и в открывшейся боковой панели выберите нужный сертификат.
7. При необходимости добавьте документы в список.
8. Нажмите кнопку ![execute-button.jpg](./images/execute-button.jpg "Выполнить").

# Результат выполнения операции

На вкладке **Подпись и шифрование** отображаются ход и результаты выполнения операции.

При успешном выполнении операции подписанные файлы сохраняются в заданном каталоге, если выбран каталог для сохранения результатов. Или рядом с исходным файлом, если каталог не задан. Если установлен флаг **Создать копию в Архиве**, то копия подписанных документов сохраняется в специальную папку, файлы которой доступны в разделе **Архив** вкдалки **Документы**.

Если какие-то документы не удалось подписать, то опеация считается выполненной с ошибками. Вы можете посмотреть какие файлы подписались успешно, а какие с ошибками. 
Ошибки при операции выводятся как уведомления. Вы можете их посмотерть, нажав на иконку ![notifications-button.jpg](./images/notifications-button.jpg "События"). Для просмотра подробного описания ошибки или отправки в техническую поддержку нажмите ![to-log-button.jpg](./images/to-log-button.jpg "Перейти в журнал") в правой боковой панели списка уведомлений.

**ВОЗМОЖНЫЕ УВЕДОМЛЕНИЯ:**

1. Не удалось открыть файл - добавленные в мастер документы были удалены или по какой то причине доступны.
2. Не удалось подписать файл - ошибка в адресе службы штампов времени, если подпись со штампом или усовершенствованная. Ошибка подключения к  прокси-серверу. 
3. Не удалось подписать файл - ошибки связанные с истекшими лицензиями КриптоПро TSP Client, OCSP Client, КриптоПро CSP.
4. Не удалось найти исходный файл для подписи - в мастер добавлен файл с открепленной подписью без исходного документа. Чтобы выполнить соподпись в данной ситуации, перед подписанием скопируйте орининал документа в папку с файлом подписи (названия фалов должно совпадать), или выбреите исходный файл в правой боковой панели, нажав **Указать путь к файлу**.


**ИНСТРУКЦИИ ПО ТЕМЕ:**  
1. [Как создать профиль подписи.](https://docs.cryptoarm.ru/05-v3.0-Beta/004-documents/create-profile)  
2. [Как переключаться между профилями подписи.](https://docs.cryptoarm.ru/05-v3.0-Beta/004-documents/select-profile)  
3. [Как добавить документы в мастер.](https://docs.cryptoarm.ru/05-v3.0-Beta/004-documents/add-docs)  
4. [Как выбрать сертификат подписи.](https://docs.cryptoarm.ru/05-v3.0-Beta/004-documents/select-sign-cert)  
5. [Как посмотреть уведомления.](https://docs.cryptoarm.ru/05-v3.0-Beta/007-cryptoarm/notifications)  
6. [Действия с результатами операций.](https://docs.cryptoarm.ru/05-v3.0-Beta/004-documents/operations-result)  